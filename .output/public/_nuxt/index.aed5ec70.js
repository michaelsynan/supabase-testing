import{a as f,b as m,o as l,e as c,u as r,f as b,h as x,i as v,j as g,k,r as _,l as i,w,v as C,m as y,p as S,q as A,s as h,F as $}from"./entry.1c9efd4e.js";const B={key:0,class:"text-6xl font-bold text-white"},L={key:1,class:"text-6xl font-bold text-white"},F=f({__name:"Check",setup(s){const n=m();return(e,t)=>(l(),c("div",null,[r(n)?(l(),c("div",B,"Am user")):(l(),c("div",L,"Am not user"))]))}}),N=()=>{var p;const s=b(),n=x(),e=n.value?`Bearer ${n.value}`:void 0,{supabase:{url:t,key:u,client:a}}=v().public,o=e?g(a,{global:{headers:{Authorization:e}}}):a,d=((p=s._supabaseClient)==null?void 0:p.headers.Authorization)!==e;return(!s._supabaseClient||d)&&(s._supabaseClient=k(t,u,o)),s._supabaseClient},T=["onSubmit"],V={class:"col-6 form-widget"},z=i("p",{class:"description text-white"},"Sign in via magic link with your email below",-1),M=["value","disabled"],O={__name:"Login",setup(s){const n=N();m();const e=_(!1),t=_(""),u=async()=>{try{e.value=!0;const{data:a,error:o}=await n.auth.signInWithOtp({email:t.value});if(o)throw o;alert("Check your email for the login link!")}catch(a){alert(a.error_description||a.message)}finally{e.value=!1}};return(a,o)=>(l(),c("form",{class:"col flex-center flex my-8",onSubmit:S(u,["prevent"])},[i("div",V,[z,i("div",null,[w(i("input",{class:"inputField",type:"email",placeholder:"Your email","onUpdate:modelValue":o[0]||(o[0]=d=>y(t)?t.value=d:null)},null,512),[[C,r(t)]])]),i("div",null,[i("input",{type:"submit",class:"button block p-4 bg-red-700 text-white cursor-pointer",value:r(e)?"Loading":"Send magic link",disabled:r(e)},null,8,M)])])],40,T))}},R={},U=i("div",{class:"text-6xl font-bold text-white"},"Supabase Testing App",-1);function j(s,n){const e=O,t=F;return l(),c($,null,[U,h(e),h(t)],64)}const D=A(R,[["render",j]]);export{D as default};
